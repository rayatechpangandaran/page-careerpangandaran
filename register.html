<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Registrasi Bisnis</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap & Icon -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

<style>
body {
    background: linear-gradient(135deg, #ff8c00, #ffb347);
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
}

.form-wrapper {
    background: #fff;
    border-radius: 16px;
    max-width: 600px;
    width: 100%;
    padding: 30px;
    box-shadow: 0 15px 40px rgba(0,0,0,.15);
    animation: fadeUp .4s ease;
}

@media (max-width: 767px) {
    .form-wrapper {
        margin: 20px 14px; 
        padding: 20px;
    }
}

@media (min-width: 768px) {
    .form-wrapper {
        margin: 60px auto;
        padding: 28px;
    }
}
@keyframes fadeUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
.step-indicator {
    display: flex;
    gap: 8px;
    margin-bottom: 25px;
}

.step-indicator span {
    flex: 1;
    height: 4px;
    background: #eee;
    border-radius: 4px;
}

.step-indicator span.active {
    background: #ff8c00;
}

.form-step {
    display: none;
}

.form-step.active {
    display: block;
}

.btn-orange {
    background: linear-gradient(135deg, #ff8c00, #ffb347);
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 30px;
}

.btn-orange:hover {
    opacity: .9;
}

small.hint {
    color: #777;
}
.is-invalid {
    border-color: #dc3545;
}

</style>
</head>

<body>

<div class="form-wrapper">

    <h4 class="fw-bold mb-1 text-center">Daftar Akun Bisnis</h4>
    <p class="text-muted text-center mb-4">
        Lengkapi data untuk memverifikasi usaha Anda
    </p>

    <!-- STEP INDICATOR -->
    <div class="step-indicator mb-4">
        <span class="active"></span>
        <span></span>
        <span></span>
        <span></span>
    </div>

    <form id="businessForm">

        <!-- STEP 1 -->
        <div class="form-step active">
            <h6 class="fw-bold mb-3">Data Dasar Bisnis</h6>

            <label class="form-label">Nama Bisnis</label>
            <input type="text" class="form-control mb-3" required>

            <label class="form-label">Jenis Usaha</label>
            <select class="form-select mb-3" required>
                <option value="">Pilih Jenis Usaha</option>
                <option>UMKM</option>
                <option>CV</option>
                <option>PT</option>
                <option>Hotel</option>
                <option>Lainnya</option>
            </select>

            <label class="form-label">Nama Penanggung Jawab</label>
            <input type="text" class="form-control mb-3" required>

            <label class="form-label">Email Bisnis</label>
            <input type="email" class="form-control mb-3" required>

            <label class="form-label">Nomor WhatsApp Aktif</label>
            <input type="number" class="form-control mb-3" required>

            <div class="text-end">
                <button type="button" class="btn btn-orange nextBtn">
                    Lanjut <i class="bi bi-arrow-right"></i>
                </button>
            </div>
        </div>

        <!-- STEP 2 -->
        <div class="form-step">
            <h6 class="fw-bold mb-3">Informasi Operasional</h6>

            <label class="form-label">Alamat Lengkap Usaha</label>
            <textarea class="form-control mb-3" required></textarea>

            <label class="form-label">Kota / Kabupaten</label>
            <input type="text" class="form-control mb-3" required>

            <label class="form-label">Bidang Usaha</label>
            <select class="form-select mb-3" required>
                <option value="">Pilih Bidang</option>
                <option>Kuliner</option>
                <option>Retail</option>
                <option>Jasa</option>
                <option>Manufaktur</option>
            </select>

            <label class="form-label">Jumlah Karyawan</label>
            <select class="form-select mb-3" required>
                <option value="">Pilih Jumlah</option>
                <option>1 – 5</option>
                <option>6 – 20</option>
                <option>> 20</option>
            </select>

            <div class="d-flex justify-content-between">
                <button type="button" class="btn btn-light prevBtn">
                    <i class="bi bi-arrow-left"></i> Kembali
                </button>
                <button type="button" class="btn btn-orange nextBtn">
                    Lanjut <i class="bi bi-arrow-right"></i>
                </button>
            </div>
        </div>

        <!-- STEP 3 -->
        <div class="form-step">
            <h6 class="fw-bold mb-3">Dokumen & Bukti Bisnis</h6>

            <label class="form-label">NIB (Opsional)</label>
            <input type="number" class="form-control mb-3">

            <label class="form-label">Upload Bukti Bisnis (Minimal 1)</label>
            <input type="file" class="form-control mb-2" required>

            <small class="hint d-block mb-3">
                Contoh: foto tempat usaha, banner, Google Maps, SKU
            </small>

            <div class="d-flex justify-content-between">
                <button type="button" class="btn btn-light prevBtn">
                    <i class="bi bi-arrow-left"></i> Kembali
                </button>
                <button type="button" class="btn btn-orange nextBtn">
                    Lanjut <i class="bi bi-arrow-right"></i>
                </button>
            </div>
        </div>

        <!-- STEP 4 -->
        <div class="form-step">
            <h6 class="fw-bold mb-3">Komitmen & Verifikasi</h6>

            <div class="form-check mb-2">
                <input class="form-check-input" type="checkbox" id="agree1">
                <label class="form-check-label" for="agree1">
                    Data yang saya isi benar dan dapat dipertanggungjawabkan
                </label>
            </div>

            <div class="form-check mb-3">
                <input class="form-check-input" type="checkbox" id="agree2">
                <label class="form-check-label" for="agree2">
                    Tidak memungut biaya dari pelamar kerja
                </label>
            </div>

            <small class="hint d-block mb-3">
                Akun bisnis akan diverifikasi sebelum dapat memasang lowongan
            </small>

            <div class="d-flex justify-content-between">
                <button type="button" class="btn btn-light prevBtn">
                    <i class="bi bi-arrow-left"></i> Kembali
                </button>
                <button type="submit" id="submitBtn" class="btn btn-orange" disabled>
                    Ajukan Akun Bisnis
                </button>
            </div>
        </div>

    </form>
</div>


<script>
const steps = document.querySelectorAll('.form-step');
const indicators = document.querySelectorAll('.step-indicator span');
const nextBtns = document.querySelectorAll('.nextBtn');
const prevBtns = document.querySelectorAll('.prevBtn');
const submitBtn = document.getElementById('submitBtn');

let current = 0;

function updateStep() {
    steps.forEach((step, i) => {
        step.classList.toggle('active', i === current);
        indicators[i].classList.toggle('active', i <= current);
    });
}

// VALIDASI STEP
function validateStep(stepIndex) {
    const inputs = steps[stepIndex].querySelectorAll(
        'input:not([type="file"]):not([type="checkbox"]), textarea, select'
    );

    for (let input of inputs) {
        if (input.value.trim() === "") {
            input.classList.add('is-invalid');
            return false;
        } else {
            input.classList.remove('is-invalid');
        }
    }
    return true;
}

// NEXT
nextBtns.forEach(btn => {
    btn.addEventListener('click', () => {
        if (validateStep(current)) {
            current++;
            updateStep();
        }
    });
});

// PREV
prevBtns.forEach(btn => {
    btn.addEventListener('click', () => {
        current--;
        updateStep();
    });
});

// VALIDASI CHECKBOX STEP AKHIR
const finalCheckboxes = document.querySelectorAll(
    '.form-step:last-child input[type="checkbox"]'
);

finalCheckboxes.forEach(cb => {
    cb.addEventListener('change', () => {
        submitBtn.disabled = !Array.from(finalCheckboxes).every(c => c.checked);
    });
});

// SUBMIT
document.getElementById('businessForm').addEventListener('submit', function(e) {
    if (submitBtn.disabled) {
        e.preventDefault();
    }
});
</script>

</body>
</html>
